---

---

<section id="services" class="bg-surface">
  <div
    class="px-4 md:px-8 py-8 md:py-12 2xl:container mx-auto space-y-4 overflow-x-hidden"
  >
    <h2 class="text-5xl text-primary text-center">Services</h2>
    <h3 class="font-title text-primary text-3xl text-center">
      Custom English Coaching
    </h3>

    <div class="grid gap-6 md:grid-cols-2">
      <!-- Card #1 1:1 50-Minute Classes -->
      <div class="p-4 bg-white text-primary rounded-lg shadow-md space-y-2">
        <h3 class="text-xl font-title text-center">1:1 Classes</h3>
        <p class="">50-minute private sessions tailored to you</p>
        <ul class="list-disc list-inside">
          <li>
            Lessons designed around your level, goals, and personal interests
          </li>
          <li>
            Build fluency and confidence through natural conversation, not
            textbook drills
          </li>
          <li>
            Get personalized feedback, helpful expressions, and custom materials
          </li>
        </ul>
      </div>
      <!-- Card #2 Group classes -->
      <div
        class="p-4 bg-white text-primary rounded-lg shadow-md space-y-2 relative"
      >
        <div
          class="top-0 right-0 absolute uppercase font-title translate-x-1/3 rotate-45 text-lg bg-primary px-2 rounded-full translate-y-1/2 select-none"
        >
          <p class="text-white">Coming soon!</p>
        </div>
        <h3 class="text-xl font-title text-center">Group classes</h3>
        <ul class="list-disc list-inside">
          <li>
            Practice real English â€” from small talk and politeness to pop
            culture and social norms
          </li>
          <li>
            Learn how to express yourself naturally and clearly in everyday
            situations
          </li>
          <li>
            Get feedback and guidance while building confidence through
            conversation
          </li>
          <li>
            Limited group size so everyone gets a chance to speak, connect, and
            grow
          </li>

          <form class="mt-4 flex flex-col" id="group-classes-notification-form">
            <input
              type="email"
              placeholder="Email"
              name="email"
              class="border py-2 w-full rounded-lg border-primary placeholder:font-medium font-semibold px-4 focus:outline-primary"
            />
            <div class="flex items-center gap-x-2 mt-2">
              <input
                type="checkbox"
                id="accept"
                name="accept"
                checked
                class="w-4 h-4 accent-primary"
              />
              <label for="accept" class="text-sm">
                I want to be notified when group classes are available!
              </label>
            </div>
            <button
              type="submit"
              class="bg-primary px-12 py-2 rounded-lg hover:bg-accent transition duration-300 shadow-md text-white font-bold uppercase mt-4 w-full md:w-fit self-center"
            >
              NOTIFY ME!
            </button>
          </form>
        </ul>
      </div>
    </div>
  </div>
</section>

<script>
  import { appendRecaptchaToForm } from "@/utils/recaptcha/recaptcha.client";
  import { to } from "@/utils/to";

  function setup() {
    const form = document.getElementById(
      "group-classes-notification-form"
    ) as HTMLFormElement;
    form.addEventListener("submit", handleSubmit);

    async function handleSubmit(event: Event) {
      event.preventDefault();

      const formData = new FormData(form);
      const enriched = await appendRecaptchaToForm(formData);

      const [error, response] = await to(
        fetch("/api/email/group-classes", {
          method: "POST",
          body: enriched,
        })
      );

      if (error || !response) {
        alert("An error occurred. Please try again later.");
        return;
      }

      const result = await response.json();
      alert((result.ok && result.success) || result.error);
    }
  }
  setup();
</script>
